{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const DEFAULT_STATE = {\n  email: '',\n  message: '',\n};\nconst FORM_FIELDS = Object.keys(DEFAULT_STATE);\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst getInitialState = () => {\n  try {\n    const savedState = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    return {\n      ...DEFAULT_STATE,\n      ...savedState,\n    };\n  } catch (e) {\n    return DEFAULT_STATE;\n  }\n};\n\nconst state = getInitialState();\n\nconst form = document.querySelector('.feedback-form');\npopulateText();\nform.addEventListener('submit', handleFormSubmit);\nform.addEventListener('input', handleFormChange);\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const email = form.elements.email.value.trim();\n  const message = form.elements.message.value.trim();\n  if (!email || !message)\n    return alert('Please fill in both email and message fields.');\n  console.log({ email, message });\n  localStorage.removeItem(STORAGE_KEY);\n  event.currentTarget.reset();\n}\n\nfunction handleFormChange(event) {\n  const { name } = event.target;\n  if (FORM_FIELDS.includes(name)) state[name] = event.target.value.trim();\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(state));\n}\n\nfunction populateText() {\n  form.querySelector('input').value = state.email;\n  form.querySelector('textarea').value = state.message;\n}\n"],"names":["DEFAULT_STATE","FORM_FIELDS","STORAGE_KEY","getInitialState","savedState","state","form","populateText","handleFormSubmit","handleFormChange","event","email","message","name"],"mappings":"oDAAA,MAAMA,EAAgB,CACpB,MAAO,GACP,QAAS,EACX,EACMC,EAAc,OAAO,KAAKD,CAAa,EACvCE,EAAc,sBAEdC,EAAkB,IAAM,CAC5B,GAAI,CACF,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQF,CAAW,CAAC,EAC/D,MAAO,CACL,GAAGF,EACH,GAAGI,CACT,CACG,MAAC,CACA,OAAOJ,CACR,CACH,EAEMK,EAAQF,EAAe,EAEvBG,EAAO,SAAS,cAAc,gBAAgB,EACpDC,IACAD,EAAK,iBAAiB,SAAUE,CAAgB,EAChDF,EAAK,iBAAiB,QAASG,CAAgB,EAE/C,SAASD,EAAiBE,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAQL,EAAK,SAAS,MAAM,MAAM,OAClCM,EAAUN,EAAK,SAAS,QAAQ,MAAM,OAC5C,GAAI,CAACK,GAAS,CAACC,EACb,OAAO,MAAM,+CAA+C,EAC9D,QAAQ,IAAI,CAAE,MAAAD,EAAO,QAAAC,CAAS,CAAA,EAC9B,aAAa,WAAWV,CAAW,EACnCQ,EAAM,cAAc,OACtB,CAEA,SAASD,EAAiBC,EAAO,CAC/B,KAAM,CAAE,KAAAG,CAAI,EAAKH,EAAM,OACnBT,EAAY,SAASY,CAAI,IAAGR,EAAMQ,GAAQH,EAAM,OAAO,MAAM,KAAI,GACrE,aAAa,QAAQR,EAAa,KAAK,UAAUG,CAAK,CAAC,CACzD,CAEA,SAASE,GAAe,CACtBD,EAAK,cAAc,OAAO,EAAE,MAAQD,EAAM,MAC1CC,EAAK,cAAc,UAAU,EAAE,MAAQD,EAAM,OAC/C"}